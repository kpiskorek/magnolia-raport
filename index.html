<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magnolia: Raport Inwestycyjny & Studium Wykonalno≈õci</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Playfair+Display:wght@500;700&display=swap');
        
        :root {
            --color-primary: #047857; /* Emerald 700 */
            --color-dark: #0f172a;    /* Slate 900 */
            --color-accent: #d97706;  /* Amber 600 */
            --color-light: #f8fafc;   /* Slate 50 */
        }

        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--color-light);
            color: #334155;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, .serif {
            font-family: 'Playfair Display', serif;
        }

        /* Chart Containers */
        .chart-container {
            position: relative;
            width: 100%;
            height: 350px;
            max-height: 450px;
        }

        /* Building Stack Visualization */
        .building-floor {
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }
        .building-floor:hover {
            transform: translateX(10px);
            border-left: 4px solid var(--color-accent);
            background-color: white;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        /* Custom Range Slider */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: var(--color-primary);
            cursor: pointer;
            margin-top: -8px;
            box-shadow: 0 0 0 4px rgba(4, 120, 87, 0.2);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #cbd5e1;
            border-radius: 2px;
        }

        /* Smooth Scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Gradient Text */
        .text-gradient {
            background: linear-gradient(to right, #047857, #059669);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Glass Effect */
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
        }
    </style>
    <!-- Chosen Palette: Emerald (Growth) & Slate (Professional) + Amber (History) -->
    <!-- Application Structure Plan:
        1. Hero: Emotional hook + key stats.
        2. Financial Core: Interactive inputs + Heatmap (Matrix).
        3. Product Vis: Building cross-section visualizing unit mix.
        4. Timeline: Vertical process flow.
        5. Market Context: Why Szczawno-Zdr√≥j?
    -->
    <!-- Visualization & Content Choices:
        - Plotly Heatmap: Best for 2D sensitivity analysis (Price vs Cost).
        - Chart.js Doughnut: Cost breakdown.
        - HTML/CSS Stack: Building floor visualization.
        - NO SVG/Mermaid.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased">

    <!-- HERO SECTION -->
    <header class="relative bg-slate-900 text-white min-h-[90vh] flex flex-col justify-between overflow-hidden">
        <!-- Abstract Background Element -->
        <div class="absolute top-0 right-0 w-2/3 h-full bg-emerald-900 opacity-20 transform skew-x-12 translate-x-1/4"></div>
        
        <!-- Nav -->
        <nav class="relative z-10 px-6 py-6 flex justify-between items-center max-w-7xl mx-auto w-full">
            <div class="text-2xl font-bold tracking-widest serif text-emerald-400">MAGNOLIA</div>
            <div class="hidden md:flex space-x-8 text-sm font-semibold tracking-wide text-slate-300">
                <a href="#vision" class="hover:text-white transition">WIZJA</a>
                <a href="#financials" class="hover:text-white transition">FINANSE</a>
                <a href="#product" class="hover:text-white transition">PRODUKT</a>
                <a href="#timeline" class="hover:text-white transition">HARMONOGRAM</a>
            </div>
            <div class="text-xs font-bold bg-emerald-600 px-4 py-2 rounded-full uppercase tracking-wider">
                Oferta Inwestycyjna
            </div>
        </nav>

        <!-- Content -->
        <div class="relative z-10 flex-grow flex items-center px-6">
            <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div class="space-y-8">
                    <div class="inline-block border-l-4 border-amber-500 pl-4">
                        <span class="text-amber-500 font-bold uppercase tracking-widest text-sm">Szczawno-Zdr√≥j, ul. Kopernika 2</span>
                    </div>
                    <h1 class="text-5xl md:text-7xl font-bold leading-tight serif">
                        Per≈Ça Uzdrowiska<br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300">do oszlifowania.</span>
                    </h1>
                    <p class="text-lg text-slate-400 max-w-lg leading-relaxed">
                        Rewitalizacja zabytkowego domu wczasowego. 1910 m¬≤ PUM. Gotowe pozwolenie na budowƒô. Projekt idealnie skrojony pod rynek "Second Home" oraz Silver Economy.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 pt-4">
                        <a href="#financials" class="px-8 py-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded shadow-lg font-semibold text-center transition">
                            Analizuj Rentowno≈õƒá
                        </a>
                        <a href="#product" class="px-8 py-4 bg-transparent border border-slate-600 hover:border-white text-white rounded font-semibold text-center transition">
                            Zobacz Apartamenty
                        </a>
                    </div>
                </div>
                
                <!-- Hero Cards -->
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-white/10 backdrop-blur-md p-6 rounded-xl border border-white/10">
                        <div class="text-3xl font-bold text-white mb-1">29</div>
                        <div class="text-xs text-slate-400 uppercase tracking-widest">Apartament√≥w</div>
                    </div>
                    <div class="bg-white/10 backdrop-blur-md p-6 rounded-xl border border-white/10">
                        <div class="text-3xl font-bold text-white mb-1">1 910 m¬≤</div>
                        <div class="text-xs text-slate-400 uppercase tracking-widest">PUM (Projekt)</div>
                    </div>
                    <div class="bg-emerald-600/90 backdrop-blur-md p-6 rounded-xl border border-emerald-500 col-span-2 shadow-2xl transform hover:-translate-y-1 transition duration-300">
                        <div class="flex justify-between items-end">
                            <div>
                                <div class="text-4xl font-bold text-white mb-1">39%</div>
                                <div class="text-xs text-emerald-100 uppercase tracking-widest">Szacowane ROI (Base Case)</div>
                            </div>
                            <div class="text-right">
                                <div class="text-2xl font-bold text-white">4,0 mln</div>
                                <div class="text-xs text-emerald-100 uppercase tracking-widest">Cena Zakupu</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Scroller -->
        <div class="relative z-10 w-full text-center py-6 text-slate-500 text-2xl animate-bounce">
            ‚Üì
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 space-y-32">

        <!-- SECTION: VISION & CONTEXT -->
        <section id="vision">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-12">
                <div class="md:col-span-4 space-y-6">
                    <h2 class="text-4xl font-bold text-slate-900 serif">Kontekst Rynkowy</h2>
                    <p class="text-slate-600 leading-relaxed">
                        Szczawno-Zdr√≥j to "dolno≈õlƒÖskie Sopot". Uzdrowisko przyciƒÖga kuracjuszy i turyst√≥w, ale brakuje w nim nowoczesnej tkanki apartamentowej. 
                        "Magnolia" wype≈Çnia tƒô lukƒô, oferujƒÖc produkt premium w bezpo≈õrednim sƒÖsiedztwie Parku Zdrojowego.
                    </p>
                    <ul class="space-y-4 pt-4">
                        <li class="flex items-start">
                            <span class="flex-shrink-0 w-8 h-8 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center font-bold mr-3">1</span>
                            <div>
                                <h4 class="font-bold text-slate-800">Gotowo≈õƒá Formalna</h4>
                                <p class="text-sm text-slate-500">Pozwolenie na budowƒô w rƒôku. Oszczƒôdzasz 18 miesiƒôcy procedur.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="flex-shrink-0 w-8 h-8 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center font-bold mr-3">2</span>
                            <div>
                                <h4 class="font-bold text-slate-800">Elastyczno≈õƒá</h4>
                                <p class="text-sm text-slate-500">Struktura lokali pozwala na sprzeda≈º detalicznƒÖ lub operatora (Aparthotel/Dom Seniora).</p>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="md:col-span-8 bg-white p-8 rounded-2xl shadow-xl border border-slate-100">
                    <h3 class="font-bold text-slate-500 uppercase text-xs tracking-widest mb-6">Analiza SWOT (Strategiczna)</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                        <!-- Strengths -->
                        <div class="p-4 bg-emerald-50 rounded-lg border-l-4 border-emerald-500">
                            <div class="text-emerald-800 font-bold mb-2 flex items-center"><span class="mr-2 text-lg">‚úö</span> MOCNE STRONY</div>
                            <p class="text-xs text-emerald-900">Lokalizacja Premium (150m od centrum), Prawomocne PnB, Uregulowana KW, 29 lokali (optymalna skala).</p>
                        </div>
                        <!-- Weaknesses -->
                        <div class="p-4 bg-amber-50 rounded-lg border-l-4 border-amber-500">
                            <div class="text-amber-800 font-bold mb-2 flex items-center"><span class="mr-2 text-lg">‚àí</span> S≈ÅABE STRONY</div>
                            <p class="text-xs text-amber-900">Konieczno≈õƒá kapitalnego remontu, brak windy (do wykonania), budynek w ewidencji zabytk√≥w.</p>
                        </div>
                        <!-- Opportunities -->
                        <div class="p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                            <div class="text-blue-800 font-bold mb-2 flex items-center"><span class="mr-2 text-lg">‚Üó</span> SZANSE</div>
                            <p class="text-xs text-blue-900">RosnƒÖcy popyt na "Second Home", inflacja kierujƒÖca kapita≈Ç w nieruchomo≈õci, rozw√≥j bazy uzdrowiskowej.</p>
                        </div>
                        <!-- Threats -->
                        <div class="p-4 bg-red-50 rounded-lg border-l-4 border-red-500">
                            <div class="text-red-800 font-bold mb-2 flex items-center"><span class="mr-2 text-lg">!</span> ZAGRO≈ªENIA</div>
                            <p class="text-xs text-red-900">Wzrost cen materia≈Ç√≥w budowlanych, ryzyko niespodzianek konstrukcyjnych w starej tkance.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: FINANCIAL MODEL -->
        <section id="financials" class="bg-white rounded-3xl shadow-2xl overflow-hidden border border-slate-200">
            <div class="bg-slate-900 p-8 md:p-12 text-center">
                <h2 class="text-3xl md:text-4xl font-bold text-white serif mb-4">Symulator Inwestycyjny</h2>
                <p class="text-slate-400 max-w-2xl mx-auto">
                    Rynek jest dynamiczny. Poni≈ºszy model pozwala na przeprowadzenie "Stress Testu" ‚Äì sprawd≈∫, jak zmienia siƒô Twoja rentowno≈õƒá (ROI) 
                    w zale≈ºno≈õci od koszt√≥w remontu i uzyskanej ceny sprzeda≈ºy.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12">
                
                <!-- INPUTS COLUMN -->
                <div class="lg:col-span-4 p-8 bg-slate-50 border-b lg:border-b-0 lg:border-r border-slate-200">
                    <h3 class="text-lg font-bold text-slate-800 mb-8 border-b pb-4">Parametry Wej≈õciowe</h3>
                    
                    <!-- Slider 1 -->
                    <div class="mb-10">
                        <label class="flex justify-between items-center mb-4">
                            <span class="text-sm font-semibold text-slate-600">Koszt Remontu (z≈Ç/m¬≤)</span>
                            <span id="val-reno" class="text-lg font-bold text-emerald-700 bg-emerald-100 px-3 py-1 rounded">4000</span>
                        </label>
                        <input type="range" id="input-reno" min="3000" max="7000" step="250" value="4000">
                        <div class="flex justify-between text-[10px] text-slate-400 mt-2 uppercase font-bold">
                            <span>Standard (3k)</span>
                            <span>Premium (7k)</span>
                        </div>
                    </div>

                    <!-- Slider 2 -->
                    <div class="mb-10">
                        <label class="flex justify-between items-center mb-4">
                            <span class="text-sm font-semibold text-slate-600">≈ör. Cena Sprzeda≈ºy (z≈Ç/m¬≤)</span>
                            <span id="val-sale" class="text-lg font-bold text-emerald-700 bg-emerald-100 px-3 py-1 rounded">9000</span>
                        </label>
                        <input type="range" id="input-sale" min="7000" max="15000" step="250" value="9000">
                        <div class="flex justify-between text-[10px] text-slate-400 mt-2 uppercase font-bold">
                            <span>Szybka Sprzeda≈º (7k)</span>
                            <span>Max Mar≈ºa (15k)</span>
                        </div>
                    </div>

                    <div class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-slate-500">Cena Zakupu:</span>
                            <span class="font-mono font-bold">4.0 mln PLN</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-slate-500">PUM:</span>
                            <span class="font-mono font-bold">1 910 m¬≤</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-slate-500">Koszty Miƒôkkie:</span>
                            <span class="font-mono font-bold">0.5 mln PLN</span>
                        </div>
                    </div>
                </div>

                <!-- OUTPUTS COLUMN -->
                <div class="lg:col-span-8 p-8 space-y-8">
                    
                    <!-- KPI Cards -->
                    <div class="grid grid-cols-3 gap-4">
                        <div class="p-4 rounded-xl bg-slate-50 border border-slate-200 text-center">
                            <div class="text-xs text-slate-400 uppercase font-bold mb-1">CAPEX (≈ÅƒÖcznie)</div>
                            <div id="out-capex" class="text-xl md:text-2xl font-bold text-slate-800">-</div>
                        </div>
                        <div class="p-4 rounded-xl bg-slate-50 border border-slate-200 text-center">
                            <div class="text-xs text-slate-400 uppercase font-bold mb-1">Przych√≥d</div>
                            <div id="out-revenue" class="text-xl md:text-2xl font-bold text-slate-800">-</div>
                        </div>
                        <div class="p-4 rounded-xl bg-emerald-50 border border-emerald-200 text-center relative overflow-hidden">
                            <div class="relative z-10">
                                <div class="text-xs text-emerald-700 uppercase font-bold mb-1">Zysk Projektu</div>
                                <div id="out-profit" class="text-xl md:text-3xl font-bold text-emerald-700">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- HEATMAP -->
                    <div>
                        <div class="flex justify-between items-end mb-4">
                            <h3 class="text-sm font-bold text-slate-500 uppercase tracking-widest">Analiza Wra≈ºliwo≈õci (Macierz ROI)</h3>
                            <span class="text-xs text-slate-400">O≈õ X: Koszt Remontu | O≈õ Y: Cena Sprzeda≈ºy</span>
                        </div>
                        <div class="chart-container border border-slate-100 rounded-xl overflow-hidden shadow-inner bg-slate-50">
                            <!-- Plotly Heatmap Container -->
                            <div id="roiHeatmap" style="width:100%; height:100%;"></div>
                        </div>
                        <div class="mt-2 text-xs text-slate-400 text-center italic">
                            *Kolor zielony oznacza zysk powy≈ºej 20% ROI. Czerwony oznacza stratƒô.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: PRODUCT VISUALIZATION (STACK) -->
        <section id="product">
            <div class="text-center max-w-3xl mx-auto mb-16">
                <h2 class="text-4xl font-bold text-slate-900 serif mb-4">Struktura Produktu</h2>
                <p class="text-slate-600">
                    Budynek zosta≈Ç zaprojektowany z my≈õlƒÖ o maksymalnej p≈Çynno≈õci sprzeda≈ºy. 
                    <span class="font-bold text-emerald-700">85% lokali to mieszkania 2-pokojowe</span> (36-55 m¬≤), 
                    kt√≥re sƒÖ najbardziej poszukiwane zar√≥wno przez inwestor√≥w, jak i klient√≥w "second home".
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <!-- Visual Building Stack -->
                <div class="bg-slate-100 p-8 rounded-3xl relative">
                    <div class="absolute -top-4 -left-4 w-24 h-24 bg-dots-pattern opacity-20"></div>
                    
                    <!-- Floor 3 -->
                    <div class="building-floor bg-white p-6 rounded-xl shadow-sm mb-4 cursor-default">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="font-bold text-slate-800">III Piƒôtro (Poddasze)</h4>
                                <p class="text-xs text-slate-500">7 Apartament√≥w | 37-56 m¬≤</p>
                            </div>
                            <div class="text-emerald-600 text-sm font-bold">Premium</div>
                        </div>
                        <div class="mt-3 flex gap-1">
                            <div class="h-2 w-1/4 bg-emerald-400 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-400 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-400 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-300 rounded-full"></div>
                        </div>
                    </div>

                    <!-- Floor 2 -->
                    <div class="building-floor bg-white p-6 rounded-xl shadow-sm mb-4 cursor-default">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="font-bold text-slate-800">II Piƒôtro</h4>
                                <p class="text-xs text-slate-500">7 Apartament√≥w | 37-55 m¬≤</p>
                            </div>
                            <div class="text-emerald-600 text-sm font-bold">Standard+</div>
                        </div>
                        <div class="mt-3 flex gap-1">
                            <div class="h-2 w-1/4 bg-emerald-500 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-500 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-500 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-400 rounded-full"></div>
                        </div>
                    </div>

                    <!-- Floor 1 -->
                    <div class="building-floor bg-white p-6 rounded-xl shadow-sm mb-4 cursor-default">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="font-bold text-slate-800">I Piƒôtro (Historyczne)</h4>
                                <p class="text-xs text-slate-500">7 Apartament√≥w | 36-54 m¬≤</p>
                            </div>
                            <div class="text-emerald-600 text-sm font-bold">Wysokie Stropy</div>
                        </div>
                        <div class="mt-3 flex gap-1">
                            <div class="h-2 w-1/4 bg-emerald-600 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-600 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-600 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-500 rounded-full"></div>
                        </div>
                    </div>

                    <!-- Ground -->
                    <div class="building-floor bg-white p-6 rounded-xl shadow-sm mb-4 cursor-default border-b-4 border-slate-300">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="font-bold text-slate-800">Parter</h4>
                                <p class="text-xs text-slate-500">8 Apartament√≥w | 36-51 m¬≤</p>
                            </div>
                            <div class="text-emerald-600 text-sm font-bold">Ogr√≥dki</div>
                        </div>
                        <div class="mt-3 flex gap-1">
                            <div class="h-2 w-1/4 bg-emerald-700 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-700 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-700 rounded-full"></div>
                            <div class="h-2 w-1/4 bg-emerald-600 rounded-full"></div>
                        </div>
                    </div>

                    <!-- Basement -->
                    <div class="bg-slate-200 p-4 rounded-xl text-center">
                        <span class="text-xs font-bold text-slate-500 uppercase">Piwnica / Czƒô≈õci Gospodarcze</span>
                    </div>
                </div>

                <!-- Product Stats Chart -->
                <div>
                    <h3 class="font-bold text-slate-800 mb-6">Struktura Metra≈ºowa</h3>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="productChart"></canvas>
                    </div>
                    <div class="mt-6 p-4 bg-emerald-50 border border-emerald-100 rounded-lg">
                        <p class="text-sm text-emerald-800">
                            <strong>Insight:</strong> Unikniƒôto du≈ºych mieszka≈Ñ (>60m¬≤), kt√≥re w lokalizacjach wakacyjnych rotujƒÖ najwolniej. ≈öredni metra≈º ~45m¬≤ to "sweet spot" inwestycyjny.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: TIMELINE -->
        <section id="timeline">
            <h2 class="text-4xl font-bold text-slate-900 serif mb-12 text-center">Harmonogram Realizacji</h2>
            <div class="relative max-w-4xl mx-auto">
                <!-- Vertical Line -->
                <div class="absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-slate-200"></div>

                <!-- Step 1 -->
                <div class="relative z-10 flex items-center justify-between mb-12">
                    <div class="w-5/12 text-right pr-8">
                        <h4 class="font-bold text-slate-800 text-lg">Nabycie & Przygotowanie</h4>
                        <p class="text-sm text-slate-500 mt-2">Finalizacja Due Diligence, zakup nieruchomo≈õci, przetarg na GW, inwentaryzacja techniczna.</p>
                        <span class="inline-block mt-2 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded">MiesiƒÖc 1-2</span>
                    </div>
                    <div class="w-8 h-8 rounded-full bg-emerald-600 border-4 border-white shadow-lg flex-shrink-0"></div>
                    <div class="w-5/12 pl-8"></div>
                </div>

                <!-- Step 2 -->
                <div class="relative z-10 flex items-center justify-between mb-12">
                    <div class="w-5/12 text-right pr-8"></div>
                    <div class="w-8 h-8 rounded-full bg-white border-4 border-emerald-600 shadow-lg flex-shrink-0"></div>
                    <div class="w-5/12 pl-8">
                        <h4 class="font-bold text-slate-800 text-lg">Stan Surowy & Konstrukcja</h4>
                        <p class="text-sm text-slate-500 mt-2">Wzmocnienie strop√≥w, nowy dach, monta≈º szybu windowego, wymiana stolarki okiennej.</p>
                        <span class="inline-block mt-2 text-xs font-bold text-slate-600 bg-slate-100 px-2 py-1 rounded">MiesiƒÖc 3-8</span>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="relative z-10 flex items-center justify-between mb-12">
                    <div class="w-5/12 text-right pr-8">
                        <h4 class="font-bold text-slate-800 text-lg">Stan Deweloperski & Elewacja</h4>
                        <p class="text-sm text-slate-500 mt-2">Instalacje wewnƒôtrzne, tynki, wylewki, renowacja zabytkowej elewacji.</p>
                        <span class="inline-block mt-2 text-xs font-bold text-slate-600 bg-slate-100 px-2 py-1 rounded">MiesiƒÖc 9-14</span>
                    </div>
                    <div class="w-8 h-8 rounded-full bg-white border-4 border-emerald-600 shadow-lg flex-shrink-0"></div>
                    <div class="w-5/12 pl-8"></div>
                </div>

                <!-- Step 4 -->
                <div class="relative z-10 flex items-center justify-between">
                    <div class="w-5/12 text-right pr-8"></div>
                    <div class="w-8 h-8 rounded-full bg-amber-500 border-4 border-white shadow-lg flex-shrink-0"></div>
                    <div class="w-5/12 pl-8">
                        <h4 class="font-bold text-slate-800 text-lg">Sprzeda≈º & Zako≈Ñczenie</h4>
                        <p class="text-sm text-slate-500 mt-2">Zako≈Ñczenie sprzeda≈ºy, odbiory lokatorskie, przeniesienie w≈Çasno≈õci.</p>
                        <span class="inline-block mt-2 text-xs font-bold text-amber-700 bg-amber-100 px-2 py-1 rounded">MiesiƒÖc 15-18</span>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="bg-slate-900 text-slate-400 py-16 border-t border-slate-800">
        <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-12">
            <div>
                <div class="text-2xl font-bold tracking-widest serif text-white mb-6">MAGNOLIA</div>
                <p class="text-sm leading-relaxed mb-6">
                    Inwestycja z potencja≈Çem w sercu Dolnego ≈ölƒÖska. 
                    
                </p>
                <p class="text-xs text-slate-600">
                    &copy; 2026 Sztuka Budowania
                </p>
            </div>
            <div>
                <h5 class="text-white font-bold uppercase tracking-widest text-xs mb-6">Kontakt</h5>
                <ul class="space-y-4 text-sm">
                    <li class="flex items-center"><span class="mr-3 text-emerald-500">‚úâ</span> kubapiskorek@gmail.com</li>
                    <li class="flex items-center"><span class="mr-3 text-emerald-500">üìû</span> +48 698 690 891</li>
                    <li class="flex items-center"><span class="mr-3 text-emerald-500">üìç</span> ul. Miko≈Çaja Kopernika 2, Szczawno-Zdr√≥j</li>
                </ul>
            </div>
            <div>
                <h5 class="text-white font-bold uppercase tracking-widest text-xs mb-6">Zastrze≈ºenie Prawne</h5>
                <p class="text-xs leading-relaxed text-slate-600">
                    Niniejszy materia≈Ç ma charakter wy≈ÇƒÖcznie informacyjny i nie stanowi oferty w rozumieniu Kodeksu Cywilnego. 
                    Przedstawione dane finansowe sƒÖ symulacjƒÖ i mogƒÖ ulec zmianie w zale≈ºno≈õci od warunk√≥w rynkowych. 
                    Zaleca siƒô przeprowadzenie w≈Çasnej analizy Due Diligence.
                </p>
            </div>
        </div>
    </footer>

    <!-- LOGIC -->
    <script>
        // CONSTANTS
        const PUM = 1910;
        const BUY_PRICE = 4000000;
        const SOFT_COSTS = 500000;

        // FORMATTER
        const pln = (val) => new Intl.NumberFormat('pl-PL', { 
            style: 'currency', 
            currency: 'PLN', 
            maximumFractionDigits: 0 
        }).format(val);

        // --- CALCULATOR LOGIC ---
        function updateCalculator() {
            const renoCost = parseInt(document.getElementById('input-reno').value);
            const salePrice = parseInt(document.getElementById('input-sale').value);

            // Update Labels
            document.getElementById('val-reno').innerText = renoCost + " z≈Ç";
            document.getElementById('val-sale').innerText = salePrice + " z≈Ç";

            // Calc
            const totalReno = renoCost * PUM;
            const totalCapex = BUY_PRICE + totalReno + SOFT_COSTS;
            const totalRevenue = salePrice * PUM;
            const profit = totalRevenue - totalCapex;
            const roi = (profit / totalCapex) * 100;

            // Output
            document.getElementById('out-capex').innerText = (totalCapex / 1000000).toFixed(2) + " mln";
            document.getElementById('out-revenue').innerText = (totalRevenue / 1000000).toFixed(2) + " mln";
            
            const profitEl = document.getElementById('out-profit');
            profitEl.innerText = (profit / 1000000).toFixed(2) + " mln";
            
            // Color logic
            if (profit > 0) {
                profitEl.className = "text-xl md:text-3xl font-bold text-emerald-600";
            } else {
                profitEl.className = "text-xl md:text-3xl font-bold text-red-500";
            }
        }

        // --- PLOTLY HEATMAP (SENSITIVITY) ---
        function initHeatmap() {
            // Generate matrix
            const renoSteps = [3000, 3500, 4000, 4500, 5000, 5500, 6000];
            const saleSteps = [7000, 8000, 9000, 10000, 11000, 12000, 13000];
            
            let zValues = [];

            for (let r = 0; r < saleSteps.length; r++) { // Rows (Sale Price)
                let row = [];
                for (let c = 0; c < renoSteps.length; c++) { // Cols (Reno Cost)
                    const cost = BUY_PRICE + (renoSteps[c] * PUM) + SOFT_COSTS;
                    const rev = saleSteps[r] * PUM;
                    const roi = ((rev - cost) / cost) * 100;
                    row.push(roi);
                }
                zValues.push(row);
            }

            const data = [{
                z: zValues,
                x: renoSteps.map(v => v + " z≈Ç/m¬≤"),
                y: saleSteps.map(v => v + " z≈Ç/m¬≤"),
                type: 'heatmap',
                colorscale: [
                    [0, '#ef4444'],   // Red for loss
                    [0.2, '#fed7aa'], // Orange/Yellow break even area
                    [0.4, '#d1fae5'], // Light Green
                    [1, '#047857']    // Deep Emerald
                ],
                hovertemplate: 'Koszt Remontu: %{x}<br>Cena Sprzeda≈ºy: %{y}<br><b>ROI: %{z:.1f}%</b><extra></extra>'
            }];

            const layout = {
                title: { text: '', font: { size: 12 } },
                margin: { t: 20, r: 20, l: 80, b: 60 },
                xaxis: { title: 'Koszt Remontu', side: 'bottom' },
                yaxis: { title: 'Cena Sprzeda≈ºy' },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)'
            };

            const config = { responsive: true, displayModeBar: false };

            Plotly.newPlot('roiHeatmap', data, layout, config);
        }

        // --- CHART.JS PRODUCT MIX ---
        function initProductChart() {
            const ctx = document.getElementById('productChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['2-Pokojowe (36-45m¬≤)', '2-Pokojowe Du≈ºe (46-56m¬≤)', 'Inne'],
                    datasets: [{
                        data: [15, 14, 0], // Based on docs
                        backgroundColor: ['#059669', '#10b981', '#cbd5e1'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right' }
                    }
                }
            });
        }

        // --- EVENTS ---
        document.getElementById('input-reno').addEventListener('input', updateCalculator);
        document.getElementById('input-sale').addEventListener('input', updateCalculator);

        // --- INIT ---
        window.addEventListener('DOMContentLoaded', () => {
            updateCalculator();
            initHeatmap();
            initProductChart();
        });

    </script>
</body>
</html>